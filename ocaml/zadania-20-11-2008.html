<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><title>Programowanie funkcyjne</title>

  
    
    <meta http-equiv="content-type" content="text/html; charset=ISO-8859-2">
    <style type="text/css">
      body { font-family: sans-serif }
    </style></head><body>
    <table>
      <tbody>
	<tr>
	  <td>
	    <table cellpadding="20">
	      <tbody>
		<tr>
		  <td>
		    <b>Programowanie funkcyjne, II UWr, 2008/09<br>
		      Lista zadañ nr 7 (na 20.11.2008)</b> 
		  </td>
		</tr> 
	    </tbody>
	    </table>
	  </td>
	</tr>
	<tr>
	  <td>
	    <table cellpadding="20" width="100%">
	      <tbody>
		<tr>
		  <th>
		    Czê¶æ I
		  </th>
		</tr>
		<tr>
		  <td>
		    <h4>Zadanie 1 (6p.)</h4>
		    Technika memoizacji pozwala wykorzystaæ
		    cechy imperatywne jêzyka w celu zwiêkszenia efektywno¶ci dzia³ania
		    funkcji, która sama jest czysto funkcyjna, tj. kolejne wywo³anie
		    takiej funkcji dla tego samego argumentu zwróci tê sam±
		    warto¶æ. Memoizacja polega na zapamiêtywaniu warto¶ci wywo³añ funkcji
		    dla konkretnych argumentów w pewnej strukturze danych, i na
		    wyszukiwaniu potrzebnych warto¶ci przy kolejnych wywo³aniach tej
		    funkcji.

		    Aby umo¿liwiæ memoizacjê dowolnej funkcji, zaimplementuj nastêpuj±cy schemat:
		    <ul>
		      <li>
			zdefiniuj typ polimorficzny s³u¿±cy jako tablica warto¶ci
			wywo³añ dowolnej funkcji
		      </li>
		      <li>
			napisz funkcjê tworzenia pustej tablicy
		      </li>
		      <li>
			napisz funkcjê wyszukiwania w tablicy warto¶ci funkcji dla
			zadanego argumentu
		      </li>
		      <li>
			napisz funkcjê dopisuj±c± do tablicy now± warto¶æ wywo³ania funkcji
		      </li>
		    </ul>
		    <br>
		    Wykorzystaj ten schemat do memoizacji funkcji wyznaczaj±cej kolejne
		    liczby Fibonacciego: napisz funkcjê <tt>fib : int -&gt; int</tt> wed³ug
		    standardowej definicji oraz funkcjê <tt>fib_memo : int -&gt; int</tt> wykorzystuj±c±
		    memoizacjê.  Porównaj czasy wykonania obu funkcji.
		    <br>
		    Czy funkcja <tt>fib_memo</tt> spe³nia Twoje oczekiwania w kwestii
		    efektywno¶ci? Zmodyfikuj schemat memoizacji dla tej funkcji, aby
		    maksymalnie wykorzystaæ tê technikê.
		  </td>
		</tr>
	      </tbody>
	    </table>
	  </td>
	</tr>
	<tr>
	  <td>
	    <table cellpadding="20" width="100%">
	      <tbody>
		<tr>
		  <th>
		    Czê¶æ II
		  </th>
		</tr>
		<tr>
		  <td>
		    <h4>Zadanie 2 (3p.)</h4>
		    Napisz funkcjê <tt>fresh</tt> typu <tt>string -&gt; string</tt>, której kolejne wywo³ania maj± nastêpuj±cy efekt:
<pre>
# fresh "x";;
- : string = "x1"
# fresh "x";;
- : string = "x2"
# fresh "x";;
- : string = "x3"
# fresh "y";;
- : string = "y4"
</pre>
		    itd... oraz funkcjê <tt>reset</tt> typu <tt>int -&gt; unit</tt>, która ustawia pocz±tkow± warto¶æ
		    generowanego indeksu dla nastêpnych wywo³añ funkcji <tt>fresh</tt>, np.
<pre># fresh "x";;
- : string = "x1"
# fresh "x";;
- : string = "x2"
# reset 5;;
- : unit = ()
# fresh "x";;
- : string = "x6"
# fresh "x";;
- : string = "x7"
</pre>   
		    Uwaga! Funkcje nie mog± wykorzystywaæ ¿adnych zmiennych globalnych.  
		  </td>
		</tr>
		<tr>
		  <td>
		    <h4>Zadanie 3 (4p.)</h4>
		    Definiujemy typ danych do reprezentacji drzew binarnych przechowuj±cych
		    warto¶ci zarówno w wêz³ach jak i w li¶ciach:
		    <blockquote>
		      <tt>
		      type 'a btree = Leaf of 'a 
		                    | Node of 'a btree * 'a * 'a btree
		      </tt>
		    </blockquote>
		    Rozwa¿my problem ponumerowania wêz³ów i li¶ci
		    drzewa przy przechodzeniu go wszerz. Na przyk³ad,
		    tak ponumerowan± wersj± drzewa
		    <blockquote>
		      <tt>Node (Node (Leaf 'a', 'b', Leaf 'c'), 'd', Leaf 'e')</tt>
		    </blockquote>
		    jest
		    <blockquote>
		      <tt>Node (Node (Leaf 4, 2, Leaf 5), 1, Leaf 3)</tt>.
		    </blockquote>
			Napisz czysto funkcyjn± funkcjê numeruj±c± drzewo wszerz.
		  </td>
		</tr>
	      </tbody>
	    </table>
	  </td>
	</tr>
</tbody>
</table>

</body></html>
